(()=>{var e={};e.id=962,e.ids=[962],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},470:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>o}),r(6511),r(1506),r(5866);var t=r(3191),a=r(8716),l=r(7922),i=r.n(l),n=r(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(s,c);let o=["",{children:["admin",{children:["courses",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6511)),"/Users/ondrej/Documents/moje-weby/lymfaflow/app/admin/courses/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/Users/ondrej/Documents/moje-weby/lymfaflow/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/ondrej/Documents/moje-weby/lymfaflow/app/admin/courses/[id]/page.tsx"],x="/admin/courses/[id]/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/courses/[id]/page",pathname:"/admin/courses/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8233:(e,s,r)=>{Promise.resolve().then(r.bind(r,6254))},6254:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var t=r(326),a=r(7577),l=r(5047),i=r(434),n=r(8301);r(8646),r(9147);var c=r(9799),o=r(1515),d=r(1899);let x=()=>(0,t.jsxs)("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:[t.jsx("circle",{cx:"9",cy:"6",r:"1.5"}),t.jsx("circle",{cx:"15",cy:"6",r:"1.5"}),t.jsx("circle",{cx:"9",cy:"12",r:"1.5"}),t.jsx("circle",{cx:"15",cy:"12",r:"1.5"}),t.jsx("circle",{cx:"9",cy:"18",r:"1.5"}),t.jsx("circle",{cx:"15",cy:"18",r:"1.5"})]});function u(){let e=(0,l.useParams)(),s=(0,l.useRouter)(),r=e.id,[u,m]=(0,a.useState)(null),[h,p]=(0,a.useState)([]),[g,j]=(0,a.useState)("general"),[v,b]=(0,a.useState)(null),y=e=>{b(e)},f=(e,s)=>{if(e.preventDefault(),null===v||v===s)return;let r=[...h],t=r[v];r.splice(v,1),r.splice(s,0,t),p(r),b(s)},N=()=>{b(null)};if(!u)return t.jsx(n.lq,{title:"Nač\xedt\xe1n\xed...",children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-[#7A9E8E] border-t-transparent rounded-full"})})});let k=c.Sz[r]?.length||0,z=o.Uh.find(e=>e.id===u.professor_id);return t.jsx(n.lq,{title:"new"===r?"Nov\xfd kurz":`Upravit: ${u.title}`,subtitle:"new"===r?"Vytvořit nov\xfd kurz":`${h.length} lekc\xed • ${k} ot\xe1zek`,actions:(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(n.zx,{variant:"secondary",onClick:()=>s.push("/admin/courses"),children:"Zrušit"}),t.jsx(n.zx,{onClick:()=>alert("V produkci by se uložilo do Supabase"),children:"Uložit změny"})]}),children:(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-1",children:(0,t.jsxs)(n.Zb,{title:"N\xe1hled",className:"sticky top-20",children:[(0,t.jsxs)("div",{className:"rounded-xl p-5 mb-4",style:{backgroundColor:`${u.color}15`},children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white text-xl",style:{backgroundColor:u.color},children:u.icon?.slice(0,1)||"\uD83D\uDCDA"}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-bold text-gray-900",children:u.title||"N\xe1zev kurzu"}),t.jsx("p",{className:"text-sm text-gray-600",children:u.subtitle||"Popis kurzu"})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-500",children:[h.length," lekc\xed"]}),(0,t.jsxs)("span",{className:"text-gray-500",children:[k," ot\xe1zek"]})]}),(0,t.jsxs)("div",{className:"mt-4 flex gap-2",children:[t.jsx(n.Ct,{variant:u.is_published?"success":"default",children:u.is_published?"Publikov\xe1no":"Koncept"}),u.is_locked&&t.jsx(n.Ct,{variant:"warning",children:"\uD83D\uDD12 Zamčeno"})]})]}),z&&(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Přiřazen\xfd profesor"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${z.accentColor}15`},children:t.jsx(d.qR,{professorId:z.id,className:"w-8 h-8",color:z.accentColor})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:z.name}),t.jsx("p",{className:"text-xs text-gray-500",children:z.teachingMethod})]})]})]})]})}),(0,t.jsxs)("div",{className:"lg:col-span-2",children:[t.jsx("div",{className:"flex gap-2 mb-6",children:["general","lessons","settings"].map(e=>(0,t.jsxs)("button",{onClick:()=>j(e),className:`
                  px-4 py-2 rounded-lg text-sm font-medium transition-colors
                  ${g===e?"bg-[#7A9E8E] text-white":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200"}
                `,children:["general"===e&&"Obecn\xe9","lessons"===e&&`Lekce (${h.length})`,"settings"===e&&"Nastaven\xed"]},e))}),"general"===g&&t.jsx(n.Zb,{title:"Z\xe1kladn\xed informace",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsx(n.II,{label:"N\xe1zev kurzu",value:u.title,onChange:e=>m({...u,title:e.target.value}),placeholder:"Anatomick\xe9 roviny"}),t.jsx(n.II,{label:"Slug (URL)",value:u.slug,onChange:e=>m({...u,slug:e.target.value}),placeholder:"anatomicke-roviny"})]}),t.jsx(n.II,{label:"Podtitul",value:u.subtitle,onChange:e=>m({...u,subtitle:e.target.value}),placeholder:"Jak popisujeme polohu struktur"}),t.jsx(n.gx,{label:"Popis",value:u.description,onChange:e=>m({...u,description:e.target.value}),rows:3,placeholder:"Detailn\xed popis kurzu..."}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsx(n.II,{label:"Ikona",value:u.icon,onChange:e=>m({...u,icon:e.target.value}),placeholder:"Book, Bone, Heart..."}),t.jsx(n.II,{label:"Barva",type:"color",value:u.color,onChange:e=>m({...u,color:e.target.value})})]}),t.jsx(n.Ph,{label:"Přiřazen\xfd profesor",value:u.professor_id,onChange:e=>m({...u,professor_id:e.target.value}),options:o.Uh.map(e=>({value:e.id,label:`${e.name} (${e.teachingMethod})`}))})]})}),"lessons"===g&&(0,t.jsxs)(n.Zb,{title:"Lekce",subtitle:"Přet\xe1hněte pro změnu pořad\xed",actions:t.jsx(i.default,{href:`/admin/lessons/new?topic=${r}`,children:t.jsx(n.zx,{size:"sm",children:"+ Nov\xe1 lekce"})}),children:[0===h.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[t.jsx("p",{className:"mb-4",children:"Zat\xedm ž\xe1dn\xe9 lekce"}),t.jsx(i.default,{href:`/admin/lessons/new?topic=${r}`,children:t.jsx(n.zx,{children:"Vytvořit prvn\xed lekci"})})]}):t.jsx("div",{className:"space-y-2",children:h.map((e,s)=>(0,t.jsxs)("div",{draggable:!0,onDragStart:()=>y(s),onDragOver:e=>f(e,s),onDragEnd:N,className:`
                        flex items-center gap-3 p-3 rounded-lg border bg-white
                        cursor-move hover:shadow-sm transition-shadow
                        ${v===s?"opacity-50 border-[#7A9E8E]":"border-gray-200"}
                      `,children:[t.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:t.jsx(x,{})}),t.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center text-sm font-medium text-gray-600",children:s+1}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.title}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.points," bodů • ",e.xp," XP"]})]}),t.jsx(i.default,{href:`/admin/lessons/${e.id}`,children:t.jsx(n.zx,{variant:"ghost",size:"sm",children:"Upravit"})})]},e.id))}),t.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Quiz ot\xe1zky"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[k," ot\xe1zek pro tento kurz"]})]}),t.jsx(i.default,{href:`/admin/questions?topic=${r}`,children:t.jsx(n.zx,{variant:"secondary",size:"sm",children:"Spravovat ot\xe1zky"})})]})})]}),"settings"===g&&t.jsx(n.Zb,{title:"Nastaven\xed",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Viditelnost"}),(0,t.jsxs)("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Publikovat kurz"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Kurz bude viditeln\xfd pro studenty"})]}),t.jsx("input",{type:"checkbox",checked:u.is_published,onChange:e=>m({...u,is_published:e.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-[#7A9E8E] focus:ring-[#7A9E8E]"})]}),(0,t.jsxs)("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Zamknout kurz"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Kurz bude vyžadovat předchoz\xed dokončen\xed"})]}),t.jsx("input",{type:"checkbox",checked:u.is_locked,onChange:e=>m({...u,is_locked:e.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-[#7A9E8E] focus:ring-[#7A9E8E]"})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[t.jsx("h4",{className:"font-medium text-red-600 mb-4",children:"Danger Zone"}),t.jsx(n.zx,{variant:"danger",onClick:()=>{confirm("Opravdu chcete smazat tento kurz? Tato akce je nevratn\xe1.")&&alert("V produkci by se kurz smazal (soft delete)")},children:"Smazat kurz"})]})]})})]})]})})}},6511:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(8570).createProxy)(String.raw`/Users/ondrej/Documents/moje-weby/lymfaflow/app/admin/courses/[id]/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[276,471,434,553,536,515,899,799],()=>r(470));module.exports=t})();