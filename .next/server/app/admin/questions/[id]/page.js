(()=>{var e={};e.id=797,e.ids=[797],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6520:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(3794),s(1506),s(5866);var r=s(3191),n=s(8716),i=s(7922),a=s.n(i),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["admin",{children:["questions",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3794)),"/Users/ondrej/Documents/moje-weby/lymfaflow/app/admin/questions/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/Users/ondrej/Documents/moje-weby/lymfaflow/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ondrej/Documents/moje-weby/lymfaflow/app/admin/questions/[id]/page.tsx"],u="/admin/questions/[id]/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/questions/[id]/page",pathname:"/admin/questions/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6691:(e,t,s)=>{Promise.resolve().then(s.bind(s,4842))},4842:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(326),n=s(7577),i=s(5047),a=s(8301),l=s(8646);s(9799);var o=s(9147);function d(){return r.jsx(n.Suspense,{fallback:r.jsx(a.lq,{title:"Nač\xedt\xe1m...",subtitle:"",children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"w-8 h-8 border-4 border-[#7A9E8E] border-t-transparent rounded-full animate-spin"})})}),children:r.jsx(c,{})})}function c(){let e=(0,i.useParams)(),t=(0,i.useRouter)(),s=(0,i.useSearchParams)(),d=e.id;s.get("topic");let[c,u]=(0,n.useState)(null),[x,p]=(0,n.useState)(!1),[m,h]=(0,n.useState)(null),g=(e,t)=>{if(!c)return;let s=[...c.options];s[e]=t,u({...c,options:s})},v=e=>{if(!c||c.options.length<=2)return;let t=c.options.filter((t,s)=>s!==e),s=c.correct_index>=e?Math.max(0,c.correct_index-1):c.correct_index;u({...c,options:t,correct_index:s})};if(!c)return r.jsx(a.lq,{title:"Nač\xedt\xe1n\xed...",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-[#7A9E8E] border-t-transparent rounded-full"})})});let b=l.Nl.find(e=>e.id===c.topic_id),j=c.topic_id&&o.Lh[c.topic_id]||[];return r.jsx(a.lq,{title:"new"===d?"Nov\xe1 ot\xe1zka":"Upravit ot\xe1zku",subtitle:b?`Kurz: ${b.title}`:"Quiz ot\xe1zka",actions:(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(a.zx,{variant:"secondary",onClick:()=>t.push("/admin/questions"),children:"Zrušit"}),r.jsx(a.zx,{variant:"secondary",onClick:()=>{p(!x),h(null)},children:x?"Editor":"N\xe1hled"}),r.jsx(a.zx,{onClick:()=>alert("V produkci by se uložilo do Supabase"),children:"Uložit"})]}),children:(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx(a.Zb,{title:"Ot\xe1zka",children:(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(a.Ph,{label:"Kurz",value:c.topic_id,onChange:e=>u({...c,topic_id:e.target.value,lesson_id:""}),options:[{value:"",label:"-- Vyberte kurz --"},...l.Nl.map(e=>({value:e.id,label:e.title}))]}),j.length>0&&r.jsx(a.Ph,{label:"Lekce (voliteln\xe9)",value:c.lesson_id,onChange:e=>u({...c,lesson_id:e.target.value}),options:[{value:"",label:"-- Ž\xe1dn\xe1 konkr\xe9tn\xed lekce --"},...j.map(e=>({value:e.id,label:e.title}))]}),r.jsx(a.gx,{label:"Text ot\xe1zky",value:c.question,onChange:e=>u({...c,question:e.target.value}),rows:3,placeholder:"Kter\xe1 rovina děl\xed tělo na předn\xed a zadn\xed č\xe1st?"})]})}),(0,r.jsxs)(a.Zb,{title:"Odpovědi",subtitle:"Označte spr\xe1vnou odpověď",actions:c.options.length<6&&r.jsx(a.zx,{size:"sm",variant:"secondary",onClick:()=>{c&&!(c.options.length>=6)&&u({...c,options:[...c.options,""]})},children:"+ Přidat"}),children:[r.jsx("div",{className:"space-y-3",children:c.options.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>u({...c,correct_index:t}),className:`
                      w-8 h-8 rounded-full border-2 flex items-center justify-center
                      transition-colors flex-shrink-0
                      ${c.correct_index===t?"border-green-500 bg-green-500 text-white":"border-gray-300 hover:border-gray-400"}
                    `,children:c.correct_index===t&&"✓"}),r.jsx(a.II,{value:e,onChange:e=>g(t,e.target.value),placeholder:`Odpověď ${t+1}`,className:"flex-1"}),c.options.length>2&&r.jsx("button",{onClick:()=>v(t),className:"p-2 text-red-400 hover:text-red-600",children:"✕"})]},t))}),r.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Klikněte na kroužek pro označen\xed spr\xe1vn\xe9 odpovědi."})]}),r.jsx(a.Zb,{title:"Vysvětlen\xed & Nastaven\xed",children:(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(a.gx,{label:"Vysvětlen\xed (po odpovědi)",value:c.explanation,onChange:e=>u({...c,explanation:e.target.value}),rows:3,placeholder:"Čeln\xed rovina proch\xe1z\xed tělem zleva doprava..."}),(0,r.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Obt\xedžnost: ",c.difficulty,"/5"]}),r.jsx("input",{type:"range",min:"1",max:"5",value:c.difficulty,onChange:e=>u({...c,difficulty:parseInt(e.target.value)}),className:"w-full"}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:"Snadn\xe1"}),r.jsx("span",{children:"Těžk\xe1"})]})]}),r.jsx("div",{className:"flex items-end",children:(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c.is_published,onChange:e=>u({...c,is_published:e.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-[#7A9E8E] focus:ring-[#7A9E8E]"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Publikovat ot\xe1zku"})]})})]})]})})]}),r.jsx("div",{children:r.jsx(a.Zb,{title:"N\xe1hled",className:"sticky top-20",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(a.Ct,{variant:c.difficulty<=2?"success":c.difficulty<=4?"warning":"danger",children:["Obt\xedžnost ",c.difficulty,"/5"]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-3",children:c.question||"Text ot\xe1zky..."})]}),r.jsx("div",{className:"space-y-2",children:c.options.map((e,t)=>{let s=m===t,n=c.correct_index===t,i=null!==m,a="bg-white hover:bg-gray-50",l="border-gray-200";return i?n?(a="bg-green-50",l="border-green-500"):s&&(a="bg-red-50",l="border-red-500"):s&&(l="border-[#7A9E8E]"),r.jsx("button",{onClick:()=>!i&&h(t),disabled:i,className:`
                        w-full p-4 rounded-xl border-2 text-left
                        transition-all ${a} ${l}
                        ${i?"cursor-default":"cursor-pointer"}
                      `,children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:`
                          w-7 h-7 rounded-full border-2 flex items-center justify-center text-sm
                          ${i&&n?"border-green-500 bg-green-500 text-white":""}
                          ${i&&s&&!n?"border-red-500 bg-red-500 text-white":""}
                          ${i?"":"border-gray-300"}
                        `,children:[i&&n&&"✓",i&&s&&!n&&"✕",!i&&String.fromCharCode(65+t)]}),r.jsx("span",{className:"text-gray-900",children:e||`Odpověď ${t+1}`})]})},t)})}),null!==m&&c.explanation&&(0,r.jsxs)("div",{className:`
                  p-4 rounded-xl
                  ${m===c.correct_index?"bg-green-50":"bg-amber-50"}
                `,children:[r.jsx("p",{className:"font-medium mb-1",children:m===c.correct_index?"✅ Spr\xe1vně!":"❌ Špatně"}),r.jsx("p",{className:"text-sm text-gray-700",children:c.explanation})]}),null!==m&&r.jsx(a.zx,{variant:"secondary",className:"w-full",onClick:()=>h(null),children:"Zkusit znovu"}),null===m&&r.jsx("p",{className:"text-center text-sm text-gray-500",children:"Klikněte na odpověď pro test"})]})})})]})})}},3794:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/Users/ondrej/Documents/moje-weby/lymfaflow/app/admin/questions/[id]/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,471,434,553,536,799],()=>s(6520));module.exports=r})();