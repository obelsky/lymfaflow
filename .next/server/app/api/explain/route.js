"use strict";(()=>{var e={};e.id=524,e.ids=[524],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7861:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>c,patchFetch:()=>k,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>v,staticGenerationAsyncStorage:()=>x});var o={};n.r(o),n.d(o,{POST:()=>p});var r=n(9303),a=n(8716),s=n(670),i=n(7070);let u={visual:{name:"Da Vinci",instruction:'Odpov\xeddej vizu\xe1ln캩 - pou쬪xedvej p콏irovn\xe1n\xed k obraz콢m, tvar콢m, kreslen\xed. 콎\xedkej "p콏edstav si", "nakresli si v hlav캩".'},storytelling:{name:"Feynman",instruction:'Vysv캩tluj jako p콏\xedb캩h nebo analogii z b캩쬹\xe9ho 쬴vota. Bu캞 nad코en\xfd a hrav\xfd. Pou쬪xedvej "hele", "v\xed코 co".'},socratic:{name:"S\xf3krat\xe9s",instruction:"Pokl\xe1dej ot\xe1zky, kter\xe9 vedou k pochopen\xed. Nechej studenta p콏em\xfd코let."},systematic:{name:"Ada",instruction:"Rozepi코 to krok za krokem, logicky a strukturovan캩. Bu캞 precizn\xed."},experimental:{name:"Marie Curie",instruction:"Vysv캩tluj p콏es praktick\xe9 p콏\xedklady a experimenty. Bu캞 povzbudiv\xe1."}};async function p(e){try{let{type:t,question:n,wrongAnswer:o,correctAnswer:r,term:a,definition:s,context:p,professorStyle:d="visual"}=await e.json(),m=process.env.ANTHROPIC_API_KEY,x="",v=`Jsi u캜itel anatomie pro 캜esk\xe9 studenty mas\xe9rstv\xed a kosmetiky. 
${u[d].instruction}
Odpov\xeddej 캛ESKY, stru캜n캩 (max 2-3 v캩ty), p콏\xe1telsky a srozumiteln캩.
Nepou쬪xedvej form\xe1ln\xed osloven\xed. Pi코 jako kamar\xe1d, kter\xfd pom\xe1h\xe1.`;if("wrong_answer"===t?x=`Student odpov캩d캩l 코patn캩 na ot\xe1zku.
Ot\xe1zka: "${n}"
맗atn\xe1 odpov캩캞: "${o}"
Spr\xe1vn\xe1 odpov캩캞: "${r}"

Vysv캩tli KR\xc1TCE pro캜 je spr\xe1vn\xe1 odpov캩캞 spr\xe1vn\xe1. Pou쬴j mnemotechniku nebo p콏irovn\xe1n\xed, aby si to student zapamatoval.`:"term"===t?x=`Vysv캩tli jednodu코e pojem: "${a}"
${s?`Z\xe1kladn\xed definice: ${s}`:""}
${p?`Kontext: ${p}`:""}

Vysv캩tli to jinak, jednodu코eji, s p콏\xedkladem nebo p콏irovn\xe1n\xedm.`:"concept"===t&&(x=`Vysv캩tli koncept: "${a}"
${p?`V kontextu: ${p}`:""}

Vysv캩tli stru캜n캩 a pou쬴j praktick\xfd p콏\xedklad.`),!m)return i.NextResponse.json({explanation:l(t,{question:n,wrongAnswer:o,correctAnswer:r,term:a,definition:s}),professor:u[d].name});let c=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":m,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:256,system:v,messages:[{role:"user",content:x}]})});if(!c.ok){let e=await c.text();return console.error("Claude API error:",e),i.NextResponse.json({explanation:l(t,{question:n,wrongAnswer:o,correctAnswer:r,term:a,definition:s}),professor:u[d].name,fallback:!0})}let k=await c.json(),j=k.content?.[0]?.text||l(t,{question:n,wrongAnswer:o,correctAnswer:r,term:a,definition:s});return i.NextResponse.json({explanation:j,professor:u[d].name})}catch(e){return console.error("Explain API error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}function l(e,t){if("wrong_answer"===e&&t.correctAnswer){let e=t.correctAnswer.toLowerCase();for(let[t,n]of Object.entries({dorz치ln칤:"\uD83D\uDCA1 Dorsum = z\xe1da latinsky. Dorz\xe1ln\xed = sm캩rem k z\xe1d콢m. U ruky je to h콏bet.",ventr치ln칤:"\uD83D\uDCA1 Venter = b콏icho latinsky. Ventr\xe1ln\xed = sm캩rem k b콏ichu.",medi치ln칤:"\uD83D\uDCA1 Medium = st콏ed. Medi\xe1ln\xed = sm캩rem ke st콏edu t캩la.",later치ln칤:"\uD83D\uDCA1 Latus = bok latinsky. Later\xe1ln\xed = sm캩rem k boku, od st콏edu.",proxim치ln칤:"\uD83D\uDCA1 Proximus = nejbli쮄멮xed. Proxim\xe1ln\xed = bl\xed쬰 k trupu.",dist치ln칤:"\uD83D\uDCA1 Distantia = vzd\xe1lenost. Dist\xe1ln\xed = d\xe1le od trupu.",front치ln칤:"\uD83D\uDCA1 Frons = 캜elo. Front\xe1ln\xed rovina = jako bys st\xe1l 캜elem ke sklu.",sagit치ln칤:"\uD83D\uDCA1 Sagitta = 코\xedp. Sagit\xe1ln\xed rovina proch\xe1z\xed jako 코\xedp zep콏edu dozadu.",transverz치ln칤:"\uD83D\uDCA1 Trans = p콏es. Transverz\xe1ln\xed = vodorovn\xfd 콏ez nap콏\xed캜 t캩lem."}))if(e.includes(t))return n;return`游눠 Spr\xe1vn\xe1 odpov캩캞 je "${t.correctAnswer}". Zkus si to zapamatovat pomoc\xed latinsk\xe9ho ko콏ene slova.`}return"term"===e&&t.term?`${t.term}: ${t.definition||"Pojem z anatomie."} 游눠 Tip: Rozebe콏 si latinsk\xfd p콢vod slova.`:"\uD83D\uDCA1 Zkus si to p콏edstavit vizu\xe1ln캩 nebo pou쬴j mnemotechniku."}let d=new r.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/explain/route",pathname:"/api/explain",filename:"route",bundlePath:"app/api/explain/route"},resolvedPagePath:"/Users/ondrej/Documents/moje-weby/lymfaflow/app/api/explain/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:x,serverHooks:v}=d,c="/api/explain/route";function k(){return(0,s.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:x})}}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),o=t.X(0,[276,972],()=>n(7861));module.exports=o})();